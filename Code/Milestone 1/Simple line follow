#include <Servo.h>
#include <QTRSensors.h>


Servo servoL;
Servo servoR;
QTRSensorsAnalog qtr((unsigned char[]){0,2},2);
int lastError = 0;
int Lspeed = 100;
int Rspeed = 80;
int adj = 0;
unsigned int sensor_values[2];

void setup() {

  
// put your setup code here, to run once:
Serial.begin(9600);
servoL.attach(3);
servoR.attach(9);

int i;
for (i = 0; i < 84; i++)  // make the calibration take about 5 seconds
  {
    //servoL.write(180);
    //servoR.write(0);
    delay(20);  //Generic calibration delay
    servoL.write(90);
    servoR.write(90);
    delay(20);
    qtr.calibrate();
    delay(20); //60ms * 84 ~ 5s
  }
}



void loop() {
// put your main code here, to run repeatedly:

servoL.write(Lspeed);
servoR.write(Rspeed);
delay(5); //Not necessary

qtr.read(sensor_values);
int diff = sensor_values[1]-sensor_values[0];
delay(500);
Serial.println(diff);
//diff = sensor_values[1]-sensor_values[0];
//make tolerance 50?
//Serial.println(diff);

}
